<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form>
        <div>
            <label for="prefix">คำนำหน้า: </label>
            <div class="prefix-cont">
                <label><input name="prefix" type="radio" value="นาย">นาย</label>
                <label><input name="prefix" type="radio" value="นาง">นาง</label>
                <label><input name="prefix" type="radio" value="นางสาว">นางสาว</label>
                <label><input name="prefix" type="radio" value="เด็กชาย">เด็กชาย</label>
                <label><input name="prefix" type="radio" value="เด็กหญิง">เด็กหญิง</label>
            </div>
        </div>

        <div>
            <label for="fname">ชื่อ: </label>
            <input type="text" id="fname">
        </div>

        <div>
            <label for="lname">นามสกุล: </label>
            <input type="text" id="lname">
        </div>

        <div>
            <label for="code">หมายเลขบัตรประชน: </label>
            <input type="text" id="code">
        </div>

        <div>
            <label for="add">ที่อยู่: </label>
            <textarea name="add" id="address"></textarea>
        </div>

        <div>
            <label for="tumbon">ตำบล: </label>
            <input type="text" id="tumbon">
        </div>

        <div>
            <label for="umper">อำเภอ: </label>
            <input type="text" id="umper">
        </div>

        <div>
            <label for="province">จังหวัด: </label>
            <select name="province" id="province">
                <option value="00" selected>--------- เลือกจังหวัด ---------</option>
                <option value="กรุงเทพมหานคร">กรุงเทพมหานคร</option>
                <option value="กระบี่">กระบี่ </option>
                <option value="กาญจนบุรี">กาญจนบุรี </option>
                <option value="กาฬสินธุ์">กาฬสินธุ์ </option>
                <option value="กำแพงเพชร">กำแพงเพชร </option>
                <option value="ขอนแก่น">ขอนแก่น</option>
                <option value="จันทบุรี">จันทบุรี</option>
                <option value="ฉะเชิงเทรา">ฉะเชิงเทรา </option>
                <option value="ชัยนาท">ชัยนาท </option>
                <option value="ชัยภูมิ">ชัยภูมิ </option>
                <option value="ชุมพร">ชุมพร </option>
                <option value="ชลบุรี">ชลบุรี </option>
                <option value="เชียงใหม่">เชียงใหม่ </option>
                <option value="เชียงราย">เชียงราย </option>
                <option value="ตรัง">ตรัง </option>
                <option value="ตราด">ตราด </option>
                <option value="ตาก">ตาก </option>
                <option value="นครนายก">นครนายก </option>
                <option value="นครปฐม">นครปฐม </option>
                <option value="นครพนม">นครพนม </option>
                <option value="นครราชสีมา">นครราชสีมา </option>
                <option value="นครศรีธรรมราช">นครศรีธรรมราช </option>
                <option value="นครสวรรค์">นครสวรรค์ </option>
                <option value="นราธิวาส">นราธิวาส </option>
                <option value="น่าน">น่าน </option>
                <option value="นนทบุรี">นนทบุรี </option>
                <option value="บึงกาฬ">บึงกาฬ</option>
                <option value="บุรีรัมย์">บุรีรัมย์</option>
                <option value="ประจวบคีรีขันธ์">ประจวบคีรีขันธ์ </option>
                <option value="ปทุมธานี">ปทุมธานี </option>
                <option value="ปราจีนบุรี">ปราจีนบุรี </option>
                <option value="ปัตตานี">ปัตตานี </option>
                <option value="พะเยา">พะเยา </option>
                <option value="พระนครศรีอยุธยา">พระนครศรีอยุธยา </option>
                <option value="พังงา">พังงา </option>
                <option value="พิจิตร">พิจิตร </option>
                <option value="พิษณุโลก">พิษณุโลก </option>
                <option value="เพชรบุรี">เพชรบุรี </option>
                <option value="เพชรบูรณ์">เพชรบูรณ์ </option>
                <option value="แพร่">แพร่ </option>
                <option value="พัทลุง">พัทลุง </option>
                <option value="ภูเก็ต">ภูเก็ต </option>
                <option value="มหาสารคาม">มหาสารคาม </option>
                <option value="มุกดาหาร">มุกดาหาร </option>
                <option value="แม่ฮ่องสอน">แม่ฮ่องสอน </option>
                <option value="ยโสธร">ยโสธร </option>
                <option value="ยะลา">ยะลา </option>
                <option value="ร้อยเอ็ด">ร้อยเอ็ด </option>
                <option value="ระนอง">ระนอง </option>
                <option value="ระยอง">ระยอง </option>
                <option value="ราชบุรี">ราชบุรี</option>
                <option value="ลพบุรี">ลพบุรี </option>
                <option value="ลำปาง">ลำปาง </option>
                <option value="ลำพูน">ลำพูน </option>
                <option value="เลย">เลย </option>
                <option value="ศรีสะเกษ">ศรีสะเกษ</option>
                <option value="สกลนคร">สกลนคร</option>
                <option value="สงขลา">สงขลา </option>
                <option value="สมุทรสาคร">สมุทรสาคร </option>
                <option value="สมุทรปราการ">สมุทรปราการ </option>
                <option value="สมุทรสงคราม">สมุทรสงคราม </option>
                <option value="สระแก้ว">สระแก้ว </option>
                <option value="สระบุรี">สระบุรี </option>
                <option value="สิงห์บุรี">สิงห์บุรี </option>
                <option value="สุโขทัย">สุโขทัย </option>
                <option value="สุพรรณบุรี">สุพรรณบุรี </option>
                <option value="สุราษฎร์ธานี">สุราษฎร์ธานี </option>
                <option value="สุรินทร์">สุรินทร์ </option>
                <option value="สตูล">สตูล </option>
                <option value="หนองคาย">หนองคาย </option>
                <option value="หนองบัวลำภู">หนองบัวลำภู </option>
                <option value="อำนาจเจริญ">อำนาจเจริญ </option>
                <option value="อุดรธานี">อุดรธานี </option>
                <option value="อุตรดิตถ์">อุตรดิตถ์ </option>
                <option value="อุทัยธานี">อุทัยธานี </option>
                <option value="อุบลราชธานี">อุบลราชธานี</option>
                <option value="อ่างทอง">อ่างทอง </option>
            </select>
        </div>

        <div>
            <label for="postcode">รหัสไปรษณีย์: </label>
            <input type="text" maxlength="5" id="postcode">
        </div>

        <button type="button" onclick="saveData()">save</button>
        <button type="button" onclick="store()">storage</button>

    </form>

    <script>
        function saveData() {
        const checkprefix = document.querySelector('input[name="prefix"]:checked');
        if (!checkprefix) {
            alert("กรุณาเลือก prefix");
            return false;
        }
        const prefix = checkprefix.value;

        const fname = document.getElementById('fname').value;
        if (!fname) {
            alert("กรุณาตอบ fname");
            return false;
        }

        const lname = document.getElementById('lname').value;
        if (!lname) {
            alert("กรุณาตอบ lname");
            return false;
        }

        const address = document.getElementById('address').value;
        if (!address) {
            alert("กรุณาตอบ address");
            return false;
        }

        const tumbon = document.getElementById('tumbon').value;
        if (!tumbon) {
            alert("กรุณาตอบ tumbon");
            return false;
        }

        const umper = document.getElementById('umper').value;
        if (umper.length < 15) {
            alert("กรุณาตอบ umper > 14");
            return false;
        }

        const code = document.getElementById('code').value;
        if (code.length != 13) {
            alert("กรุณาตอบ code 13");
            return false;
        }

        const postcode = document.getElementById('postcode').value;
        const check = /^[0-9]{5}$/.test(postcode);
        if (!check) {
            alert("กรุณาตอบ postcode=5");
            return false;
        }

        const province = document.getElementById('province').value;
        if (province == "00") {
            alert("กรุณาเลือก province");
            return false;
        }

        localStorage.setItem('pf', prefix);
        localStorage.setItem('fn', fname);
        localStorage.setItem('ln', lname);
        localStorage.setItem('code', code);
        localStorage.setItem('add', address);
        localStorage.setItem('tb', tumbon);
        localStorage.setItem('up', umper);
        localStorage.setItem('pv', province);
        localStorage.setItem('pc', postcode);

        alert("success!!!");
        
        }

        function store() {
            const prefix = localStorage.getItem('pf');
            document.querySelector(`input[name="prefix"][value="${prefix}"]`).checked = true;
            document.getElementById('province').value = localStorage.getItem('pv');
            document.getElementById('fname').value = localStorage.getItem('fn');
            document.getElementById('lname').value = localStorage.getItem('ln');
            document.getElementById('address').value = localStorage.getItem('add');
            document.getElementById('code').value = localStorage.getItem('code');
            document.getElementById('tumbon').value = localStorage.getItem('tb');
            document.getElementById('umper').value = localStorage.getItem('up');
            document.getElementById('postcode').value = localStorage.getItem('pc');
        }
    </script>
</body>

</html>