<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <script src="validator.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Mitr:wght@200;300;400;500;600;700&display=swap');

        body {
            font-family: "Mitr", serif;
            background-color: #f8f9fa;
            display: flex;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            padding: 40px;
            background-color: white;
            border-radius: 20px;
            box-shadow: 10px 10px 50px 5px rgb(216, 221, 222);
        }

        button {
            padding: 8px;
            width: 100px;
            background-color: #007bff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            color: white;
            margin-top: 20px;
        }

        button:hover {
            background-color: #095cb6;
        }
    </style>
</head>

<body>

    <div class="container">
        <h1>Form</h1>
        <hr>
        <form id="form" role="form">
            <div class="form-group">
                <label>คำนำหน้านาม</label>
                <div>
                    <label><input id="prefix" type="radio" name="prefix" value="นาย"> นาย</label><br>
                    <label><input id="prefix" type="radio" name="prefix" value="นาง"> นาง</label><br>
                    <label><input id="prefix" type="radio" name="prefix" value="นางสาว"> นางสาว</label><br>
                    <label><input id="prefix" type="radio" name="prefix" value="เด็กชาย"> เด็กชาย</label><br>
                    <label><input id="prefix" type="radio" name="prefix" value="เด็กหญิง"> เด็กหญิง</label>
                </div>
            </div>

            <div class="form-group">
                <label for="fname">ชื่อ</label>
                <input id="fname" type="text" class="form-control" placeholder="ชื่อ">
            </div>
            <div class="form-group">
                <label for="lname">นามสกุล</label>
                <input id="lname" type="text" class="form-control" placeholder="นามสกุล">
            </div>

            <div class="form-group">
                <label>หมายเลขบัตรประชาชน</label>
                <input id="code" type="text" class="form-control" placeholder="เลขบัตรประชาชน">
            </div>
            <div class="form-group">
                <label for="address">ที่อยู่</label>
                <textarea id="address" name="address" class="form-control" placeholder="ที่อยู่"></textarea>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <label for="subdistrict">ตำบล/แขวง</label>
                    <input id="subdistrict" type="text" class="form-control" placeholder="ตำบล/แขวง">
                </div>
                <div class="col-sm-6">
                    <label for="district">อำเภอ/เขต</label>
                    <input id="district" type="text" class="form-control" placeholder="อำเภอ/เขต">
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <label for="province">จังหวัด</label>
                    <select id="province" name="province" class="form-control">
                        <option value="00" selected>--------- เลือกจังหวัด ---------</option>
                        <option value="กรุงเทพมหานคร">กรุงเทพมหานคร</option>
                        <option value="กระบี่">กระบี่ </option>
                        <option value="กาญจนบุรี">กาญจนบุรี </option>
                        <option value="กาฬสินธุ์">กาฬสินธุ์ </option>
                        <option value="กำแพงเพชร">กำแพงเพชร </option>
                        <option value="ขอนแก่น">ขอนแก่น</option>
                        <option value="จันทบุรี">จันทบุรี</option>
                        <option value="ฉะเชิงเทรา">ฉะเชิงเทรา </option>
                        <option value="ชัยนาท">ชัยนาท </option>
                        <option value="ชัยภูมิ">ชัยภูมิ </option>
                        <option value="ชุมพร">ชุมพร </option>
                        <option value="ชลบุรี">ชลบุรี </option>
                        <option value="เชียงใหม่">เชียงใหม่ </option>
                        <option value="เชียงราย">เชียงราย </option>
                        <option value="ตรัง">ตรัง </option>
                        <option value="ตราด">ตราด </option>
                        <option value="ตาก">ตาก </option>
                        <option value="นครนายก">นครนายก </option>
                        <option value="นครปฐม">นครปฐม </option>
                        <option value="นครพนม">นครพนม </option>
                        <option value="นครราชสีมา">นครราชสีมา </option>
                        <option value="นครศรีธรรมราช">นครศรีธรรมราช </option>
                        <option value="นครสวรรค์">นครสวรรค์ </option>
                        <option value="นราธิวาส">นราธิวาส </option>
                        <option value="น่าน">น่าน </option>
                        <option value="นนทบุรี">นนทบุรี </option>
                        <option value="บึงกาฬ">บึงกาฬ</option>
                        <option value="บุรีรัมย์">บุรีรัมย์</option>
                        <option value="ประจวบคีรีขันธ์">ประจวบคีรีขันธ์ </option>
                        <option value="ปทุมธานี">ปทุมธานี </option>
                        <option value="ปราจีนบุรี">ปราจีนบุรี </option>
                        <option value="ปัตตานี">ปัตตานี </option>
                        <option value="พะเยา">พะเยา </option>
                        <option value="พระนครศรีอยุธยา">พระนครศรีอยุธยา </option>
                        <option value="พังงา">พังงา </option>
                        <option value="พิจิตร">พิจิตร </option>
                        <option value="พิษณุโลก">พิษณุโลก </option>
                        <option value="เพชรบุรี">เพชรบุรี </option>
                        <option value="เพชรบูรณ์">เพชรบูรณ์ </option>
                        <option value="แพร่">แพร่ </option>
                        <option value="พัทลุง">พัทลุง </option>
                        <option value="ภูเก็ต">ภูเก็ต </option>
                        <option value="มหาสารคาม">มหาสารคาม </option>
                        <option value="มุกดาหาร">มุกดาหาร </option>
                        <option value="แม่ฮ่องสอน">แม่ฮ่องสอน </option>
                        <option value="ยโสธร">ยโสธร </option>
                        <option value="ยะลา">ยะลา </option>
                        <option value="ร้อยเอ็ด">ร้อยเอ็ด </option>
                        <option value="ระนอง">ระนอง </option>
                        <option value="ระยอง">ระยอง </option>
                        <option value="ราชบุรี">ราชบุรี</option>
                        <option value="ลพบุรี">ลพบุรี </option>
                        <option value="ลำปาง">ลำปาง </option>
                        <option value="ลำพูน">ลำพูน </option>
                        <option value="เลย">เลย </option>
                        <option value="ศรีสะเกษ">ศรีสะเกษ</option>
                        <option value="สกลนคร">สกลนคร</option>
                        <option value="สงขลา">สงขลา </option>
                        <option value="สมุทรสาคร">สมุทรสาคร </option>
                        <option value="สมุทรปราการ">สมุทรปราการ </option>
                        <option value="สมุทรสงคราม">สมุทรสงคราม </option>
                        <option value="สระแก้ว">สระแก้ว </option>
                        <option value="สระบุรี">สระบุรี </option>
                        <option value="สิงห์บุรี">สิงห์บุรี </option>
                        <option value="สุโขทัย">สุโขทัย </option>
                        <option value="สุพรรณบุรี">สุพรรณบุรี </option>
                        <option value="สุราษฎร์ธานี">สุราษฎร์ธานี </option>
                        <option value="สุรินทร์">สุรินทร์ </option>
                        <option value="สตูล">สตูล </option>
                        <option value="หนองคาย">หนองคาย </option>
                        <option value="หนองบัวลำภู">หนองบัวลำภู </option>
                        <option value="อำนาจเจริญ">อำนาจเจริญ </option>
                        <option value="อุดรธานี">อุดรธานี </option>
                        <option value="อุตรดิตถ์">อุตรดิตถ์ </option>
                        <option value="อุทัยธานี">อุทัยธานี </option>
                        <option value="อุบลราชธานี">อุบลราชธานี</option>
                        <option value="อ่างทอง">อ่างทอง </option>
                    </select>
                </div>
                <div class="col-sm-6">
                    <label>รหัสไปรษณีย์</label>
                    <input id="postcode" type="text" class="form-control" maxlength="5" placeholder="รหัสไปรษณีย์">
                </div>
            </div>

        </form>
        <button type="button" onclick="validateForm()">Submit</button>
        <button type="button" onclick="showLocalData()">Show Data</button>
    </div>

    <script>
        function validateForm() {
            let prefix = document.querySelector('input[name="prefix"]:checked').value;
            if (!prefix) {
                alert("กรุณาเลือกคำนำหน้าชื่อ");
                return false;
            }

            let fname = document.getElementById("fname").value;
            if (!(2 <= fname.length && fname.length <= 20)) {
                alert("กรุณากรอกชื่อเป็นตัวอักษร ความยาวระหว่าง 2-20 ตัวอักษร")
                return false;
            }

            let lname = document.getElementById("lname").value;
            if (!(2 <= lname.length && lname.length <= 20)) {
                alert("กรุณากรอกนามสกุลเป็นตัวอักษร ความยาวระหว่าง 2-20 ตัวอักษร")
                return false;
            }

            let code = document.getElementById("code").value;
            if (code.length != 13) {
                alert("กรุณากรอกหมายเลขบัตรประชาชนให้ครบจำนวน 13 หลัก")
                return false;
            }

            let address = document.getElementById("address").value;
            if (address.length < 15) {
                alert("กรุณากรอกข้อมูลที่อยู่ความยาวไม่ต่ำกว่า 15 ตัวอักษร");
                return false;
            }

            let subdistrict = document.getElementById("subdistrict").value;
            if (subdistrict.length < 2) {
                alert("กรุณากรอกข้อมูลตำบล/แขวงความยาวไม่ต่ำกว่า 15 ตัวอักษร");
                return false;
            }

            let district = document.getElementById("district").value;
            if (district.length < 2) {
                alert("กรุณากรอกข้อมูลอำเภอ/เขตความยาวไม่ต่ำกว่า 15 ตัวอักษร");
                return false;
            }

            let province = document.getElementById("province").value;
            if (province == "00") {
                alert("กรุณาเลือกจังหวัด");
                return false;
            }

            let postcode = document.getElementById("postcode").value;
            let isValid = /^[0-9]{5}$/.test(postcode);
            if (!isValid) {
                alert("กรุณากรอกรหัสไปรษณีย์เป็นตัวเลข 5 หลัก");
                return false;
            }

            //save data to local storage
            localStorage.setItem('pf', prefix);
            localStorage.setItem('fn', fname);
            localStorage.setItem('ln', lname);
            localStorage.setItem('cd', code);
            localStorage.setItem('addr', address);
            localStorage.setItem('sub', subdistrict);
            localStorage.setItem('dis', district);
            localStorage.setItem('pro', province);
            localStorage.setItem('post', postcode);
            alert('กรอกข้อมูลสำเร็จ!');
            document.getElementById('form').reset();

        }

        function showLocalData() {
            let prefix = localStorage.getItem('pf');
            document.querySelector(`input[name="prefix"][value="${prefix}"]`).checked = true;
            document.getElementById('fname').value = localStorage.getItem('fn');
            document.getElementById('lname').value = localStorage.getItem('ln');
            document.getElementById('code').value = localStorage.getItem('cd');
            document.getElementById('address').value = localStorage.getItem('addr');
            document.getElementById('subdistrict').value = localStorage.getItem('sub');
            document.getElementById('district').value = localStorage.getItem('dis');
            document.getElementById('province').value = localStorage.getItem('pro');
            document.getElementById('postcode').value = localStorage.getItem('post');

            localStorage.clear();
        }

    </script>
</body>

</html>